Manual deployment
-------------------------
 copy all to a temp dir
 remove unwanted items
   .settings, .classpath, .project
   /dev dir can be removed
 cross-origin server
    change url for the server, from localhost to the domain
    js/util.js
 switch to server version of web.xml
   size ~ 872 kb (with no dev dir)
   review/edit web.xml settings
 zip all into a war file and push to domain
 >cd C:\temp2
 >"C:\Program Files\Putty\psftp.exe" webjcom@jpcat10.nshostserver.net
   cd /home/webjcom/web4j.com/apache-tomcat-6.0.24/webapps-astronomytonight
   put ROOT.war
   if Tomcat's autodeploy fails to explode the dir, try a 'touch' of the ROOT.war
   
 
-------------------------------------
Maintenance - Monthly (about 1 hour)
-------------------------------------

Comets 
  in ephem.js
  pick comets using BAA comet section
    https://www.ast.cam.ac.uk/~jds/
    peak mag <= 12, and whose elong from the sun at peak > x
  orbital elements:
    http://ssd.jpl.nasa.gov/sbdb.cgi#top   

------------------------------------- 
Maintenance - Yearly (about 3 hours)
-------------------------------------

ephem.js
  Edit this line: var when_fixed_equinox = when("J2017.5");


Messier objects
 apply precession from J2000 to the current year
 http://localhost:8081/playtime/sky/astro/messier_precess/form.html
 put the result in ephem.js, update comments therein
 
 
Caldwell objects 
 apply precession from J2000 to the current year
 WARNING: I am inlining the J2000 data in graphic.html; referencing doesn't work
 http://localhost:8081/playtime/sky/astro/messier_precess/form.html
 put the result in ephem.js, update comments therein
 

Yale Bright Star catalog 
 apply precession from J2000 to the current year
 http://localhost:8081/playtime/sky/astro/ybs_precess/form.html
   if the browser hangs, edit the code.js to run in two parts
 put the result in ephem.js, update comments therein


Planet orbits
  pairs of osculating orbits (Earth excluded)
  Observer's Handbook, p23
  edit ephem.js directly
  Careful: for fast movers, L0 can go around N times between a and b. 
  That needs to be factored in, since the overall rate of change is calculated.
  

Asteroid orbits - update
  http://ssd.jpl.nasa.gov/sbdb.cgi#top
  edit ephem.js directly
  
  
Occultations
  occult.exe v4 software from IOTA
    C:\Program Files (x86)\occult\Occult.exe
    Occult > Lunar predictions > Predictions of multiple objects for multiple sites
    use the ZC catalog only! (otherwise wacky interference between dates and star names)
    limiting mag no more than 6.0 (RASC has 5.9)
    use the 'John' site file, to use my list of 'standard' sites
    do at least 13 months at a time (till end of year + 1 month)
    'Compute Occultations' will generate the files
    eyeball the output: C:\Program Files (x86)\occult\AutoGenerated Lunar
  custom list of sites that I use:
    C:\Program Files (x86)\occult\Sites\John.site
    can be edited manually (the tool's UI for editing the file is confusing.)
  OccultationParser.java
    generate the js object, replace content of occultations.js
    C:\johanley\Projects\playtime\sky\astro\today>C:\jdk1.6.0\bin\javac -encoding "UTF-8" -cp . OccultationParser.java
    C:\johanley\Projects\playtime\sky\astro\today>C:\jdk1.6.0\bin\java OccultationParser
  
    
Sky Diary - Daily Phenomena
  MICA software
  "C:\Program Files (x86)\U.S. Naval Observatory\MICA\MICA2.exe"
  Calc -> Search phenomena -> full year + 1 month, use UT1
     C:\Temp\phenomena.txt
  Open in Notepad and re-save as UTF-8 (to be safe). 
     C:\Temp\phenomena_utf8.txt
  Run SkyDiary.java
    C:\johanley\Projects\playtime\sky\astro\today>C:\jdk1.6.0\bin\javac -encoding "UTF-8" -cp . SkyDiary.java
    C:\johanley\Projects\playtime\sky\astro\today>C:\jdk1.6.0\bin\java SkyDiary
  Output
    C:\Temp\phenomena.js
  Replace 'all_events' object in ephem.js


Jupiter Satellite Phenomena
  Occult software, export to:
    C:\Temp\jupiter_satellite_phenomena.txt
  Resave to:    
    C:\Temp\jupiter_satellite_phenomena_utf8.txt
  Generates to: C:\Temp\jupiter_satellite_phenomena.js
  C:\johanley\Projects\playtime\sky\astro\today>C:\jdk1.6.0\bin\javac -encoding "UTF-8" -cp . JupiterSatellitePhenomena.java
  C:\johanley\Projects\playtime\sky\astro\today>C:\jdk1.6.0\bin\java JupiterSatellitePhenomena
  Replace the contents of: 
     C:\johanley\Projects\playtime\sky\astro\today\jupiter_satellite_phenomena.js